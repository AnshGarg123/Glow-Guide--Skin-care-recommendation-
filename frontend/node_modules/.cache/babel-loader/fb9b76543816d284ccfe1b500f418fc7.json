{"ast":null,"code":"export const UploadImage = (imageSrc, navigate) => {\n  fetch(\"/upload\", {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      file: imageSrc\n    })\n  }).then(res => res.json()).then(data => {\n    if (data.error) {\n      console.log(\"Please add a photograph\");\n    } else {\n      // Ensure features vector has 18 elements in the correct order\n      const allFeatures = [\"normal\", \"dry\", \"oily\", \"combination\", \"acne\", \"sensitive\", \"fine lines\", \"wrinkles\", \"redness\", \"dull\", \"pore\", \"pigmentation\", \"blackheads\", \"whiteheads\", \"blemishes\", \"dark circles\", \"eye bags\", \"dark spots\"];\n      const features = {};\n      allFeatures.forEach(f => {\n        features[f] = 0;\n      });\n\n      if (data.type && features.hasOwnProperty(data.type.toLowerCase())) {\n        features[data.type.toLowerCase()] = 1;\n      }\n\n      if (data.acne !== \"Low\") features[\"acne\"] = 1;\n      fetch(\"/recommend\", {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          features: features,\n          type: data.type,\n          tone: data.tone\n        })\n      }).then(res => res.json()).then(recData => {\n        navigate(\"/recs\", {\n          state: {\n            data: recData\n          }\n        });\n      });\n    }\n  }).catch(err => {\n    console.log(err.message);\n  });\n};\n_c = UploadImage;\nexport const putForm = (features, currType, currTone, navigate) => {\n  console.log(features, currType, currTone, navigate);\n  fetch(\"/recommend\", {\n    method: \"put\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      features: features,\n      type: currType,\n      tone: currTone\n    })\n  }).then(res => res.json()).then(data => {\n    if (data.error) {\n      console.log(\"Error\");\n    } else {\n      navigate(\"/recs\", {\n        state: {\n          data\n        }\n      });\n      console.log(data);\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadImage\");","map":{"version":3,"sources":["C:/Users/Ansh Garg/Downloads/skincare project/skincare/frontend/src/controllers/actions.js"],"names":["UploadImage","imageSrc","navigate","fetch","method","headers","body","JSON","stringify","file","then","res","json","data","error","console","log","allFeatures","features","forEach","f","type","hasOwnProperty","toLowerCase","acne","tone","recData","state","catch","err","message","putForm","currType","currTone"],"mappings":"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","sourcesContent":["export const UploadImage = (imageSrc, navigate) => {\n  fetch(\"/upload\", {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ file: imageSrc }),\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      if (data.error) {\n        console.log(\"Please add a photograph\");\n      } else {\n        // Ensure features vector has 18 elements in the correct order\n        const allFeatures = [\n          \"normal\", \"dry\", \"oily\", \"combination\", \"acne\", \"sensitive\", \"fine lines\", \"wrinkles\", \"redness\",\n          \"dull\", \"pore\", \"pigmentation\", \"blackheads\", \"whiteheads\", \"blemishes\", \"dark circles\", \"eye bags\", \"dark spots\"\n        ];\n        const features = {};\n        allFeatures.forEach(f => { features[f] = 0; });\n        if (data.type && features.hasOwnProperty(data.type.toLowerCase())) {\n          features[data.type.toLowerCase()] = 1;\n        }\n        if (data.acne !== \"Low\") features[\"acne\"] = 1;\n        fetch(\"/recommend\", {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            features: features,\n            type: data.type,\n            tone: data.tone,\n          }),\n        })\n          .then((res) => res.json())\n          .then((recData) => {\n            navigate(\"/recs\", { state: { data: recData } });\n          });\n      }\n    })\n    .catch((err) => {\n      console.log(err.message);\n    });\n};\n\nexport const putForm = (features, currType, currTone, navigate) => {\n  console.log(features, currType, currTone, navigate);\n  fetch(\"/recommend\", {\n    method: \"put\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      features: features,\n      type: currType,\n      tone: currTone,\n    }),\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      if (data.error) {\n        console.log(\"Error\");\n      } else {\n        navigate(\"/recs\", { state: { data } });\n        console.log(data);\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n"]},"metadata":{},"sourceType":"module"}